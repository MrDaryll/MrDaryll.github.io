<!--
	作者：Sariay
	时间：2018-09-25
	描述：There may be a bug, but don't worry, QiLing(器灵) says that it can work normally!
-->
<!DOCTYPE html>
<html class="html-loading">
		

<head>
	<meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
  <title>
    
      adb命令总结 | Lulu.博客
    
  </title>
  <meta name="author" content="Daryll">
  <meta name="keywords" content="" />
  <meta name="description" content="" />
	<!-- favicon -->
  <link rel="shortcut icon" href="/img/favicon.ico">

  <!-- css -->
  <link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/Annie.css">
  
  <!-- jquery -->
	<script src="/js/jquery.min.js"></script>

  <!-- leancloud -->
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
<script src="/js/leancloud.js"></script>
</head>
	<body>
		<!-- Preloader -->

	<div id="preloader">
		<div class="pre-container">
			
				<div class="spinner">
					<div class="double-bounce1"></div>
					<div class="double-bounce2"></div>
				</div>
						
		</div>
	</div>


<!-- header -->
<header class="fixbackground" data-img-mode="normal" data-normal-src="/img/1.jpg" data-random-max="110" data-random-src="https://sariay.github.io/Random-img/">
	<div class="mask">
		<!-- Logo and navigation -->
		<div class="h-header">
			<div id="logo">
				<a href="/">
						
						<img src="/img/logo.png" alt="Logo">
					
				</a>
			</div>
			
			<div id="navigation-show">
				<ul>
	
		<li class="menu-home">
			<a href="/" class="menu-item-home">主页</a>
		</li>
	
		<li class="menu-archive">
			<a href="/archives" class="menu-item-archive">归档</a>
		</li>
	
		<li class="menu-categories">
			<a href="/categories" class="menu-item-categories">分类</a>
		</li>
	
		<li class="menu-tags">
			<a href="/tags" class="menu-item-tags">标签</a>
		</li>
	
		<li class="menu-about">
			<a href="/about" class="menu-item-about">关于</a>
		</li>
	
		<li class="menu-gallery">
			<a href="/gallery" class="menu-item-gallery">相册</a>
		</li>
	

	
</ul>
			</div>				
		</div>

		<!-- motto -->
		<div class="h-body">	
			
				<p class="motto"></p>
			
		</div>
		
		<!-- others: such as time... -->			
		<div class="h-footer">
			<a href="javascript:;" target="_blank" rel="noopener" id="read-more"><i class="fa fa-angle-double-down" aria-hidden="true"></i>
			</a>

			
				<!-- 
	This is only a demo, please go to "https://time.is" to set your city time! 
-->
<style type="text/css">
	.header-date {
		font-size: 1.6rem;
		color: #fff;
		position: absolute;
		bottom: 5px;
		right: 1rem;
		writing-mode: tb-rl;
	}	
	
	.header-date a {
		border-bottom: none;
	}

	@media only screen and (max-width: 768 ) {
		.header-date {
			font-size: 1rem;
		}			
	}
</style>
<div class="header-date">
	<a href="https://time.is/Beijing" target="_blank" id="time_is_link" rel="nofollow noopener" ></a>
	<span id="Beijing_z43d"></span>
</div>
<script src="//widget.time.is/zh.js"></script>
<script>
	time_is_widget.init({
		Beijing_z43d:{
			template:"DATE", 
			date_format:"year年 monthname dnum日"
		}
	});
</script>
			
		</div>
	</div>
</header>

<div id="navigation-hide">
	<!-- Progress bar -->
	<div id="progress-bar"></div>

	<!-- Progress percent -->
	<div id="progress-percentage"><h1>0.0%</h1></div>

	<div class="toc-switch"><span class="switch-button">目录</span></div>

	<!-- Page title -->
	<p>
		
			当前文章&nbsp;:&nbsp;《adb命令总结》
		
	</p>

	<!-- Nav trigger for navigation-H-->
	<a class="nav-trigger"><span></span></a>
</div>

<!-- Navigation in div(id="navigation-H") -->
<nav class="nav-container" id="cd-nav">
	<div class="nav-header">
		<h3>Navigation</h3>
		<a href="javascript:;" target="_blank" rel="noopener" class="nav-close"></a>
	</div>
	<div class="nav-body">
		<ul>
	
		<li class="menu-home">
			<a href="/" class="menu-item-home">主页</a>
		</li>
	
		<li class="menu-archive">
			<a href="/archives" class="menu-item-archive">归档</a>
		</li>
	
		<li class="menu-categories">
			<a href="/categories" class="menu-item-categories">分类</a>
		</li>
	
		<li class="menu-tags">
			<a href="/tags" class="menu-item-tags">标签</a>
		</li>
	
		<li class="menu-about">
			<a href="/about" class="menu-item-about">关于</a>
		</li>
	
		<li class="menu-gallery">
			<a href="/gallery" class="menu-item-gallery">相册</a>
		</li>
	

	
</ul>
	</div>
	<div class="nav-footer">
		<ul>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-github"></i>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-weibo"></i>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-pinterest"></i>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-instagram"></i>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-twitter"></i>
			</a>
		</li>
	
		<li>
			<a href="/atom.xml" target="_blank">
				<i class="fa fa-rss"></i>
			</a>
		</li>
			
</ul>

	</div>
</nav>
			
		<!--main-->
		<main>
			<!--
	时间：2018-11-17
	描述：
		插件名称：katelog.min.js
		插件作者：KELEN
		插件来源: https://github.com/KELEN/katelog
-->

	
		<div class="layout-toc">
			<div id="layout-toc">
				<div class="k-catelog-list" id="catelog-list" data-title="文章目录"></div>
			</div>
		</div>

		
		<script src="/plugin/toc/katelog.min.js"></script>

		
	 

<div class="layout-post">
	<div id="layout-post">
	<div class="article-title">
		<i class="fa fa-paper-plane-o" aria-hidden="true"></i>
		
	<a href="/2019/12/19/adb%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/" itemprop="url">
		adb命令总结
	</a>

	</div>

	<div class="article-meta">
		<span>
			<i class="fa fa-calendar"></i>
			


	发布于

	<a href="/2019/12/19/adb%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/" itemprop="url">
		<time datetime="2019-12-19T02:40:01.000Z" itemprop="datePublished">
	  		2019-12-19
	  </time>
	</a>
	&nbsp;





			




	更新于

	<a href="/2019/12/19/adb%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/" itemprop="url">
		<time datetime="2019-12-19T02:40:01.000Z" itemprop="dateUpdated">
	  		2019-12-19
	  </time>
	</a> 



		</span>
		<span>
			<i class="fa fa-tags"></i>
					
		</span>
		
		



	</div>

	<div class="article-content" id="article-content">
		<p>针对移动端 Android 的测试， adb 命令是很重要的一个点，必须将常用的 adb 命令熟记于心， 将会为 Android 测试带来很大的方便，其中很多命令将会用于自动化测试的脚本当中。<br>Android Debug Bridge<br>adb 其实就是 Android Debug Bridge, Android 调试桥的缩写，adb 是一个 C/S 架构的命令行工具，主要由 3 部分组成：</p>
<p>运行在 PC 端的 Client : 可以通过它对 Android 应用进行安装、卸载及调试</p>
<p>Eclipse 中的 ADT、SDK Tools 目录下的 DDMS、Monitor 等工具，都是同样地用到了 adb 的功能来与 Android 设备进行交互。</p>
<p>PC 端的手机助手，诸如 360 手机助手、豌豆荚、应用宝等，其除了安装第三方应用方便，其他的功能，基本上都可以通过 adb 命令去完成，这里建议测试人员尽量不要在电脑上安装这类手机助手，因为其自带的 adb 程序可能会与 Android SDK 下的 adb 程序产生冲突，5037 端口被占用，导致使用 adb 命令时无法连接到设备</p>
<p>运行在 PC 端的 Service : 其管理客户端到 Android 设备上 adb 后台进程的连接</p>
<p>adb 服务启动后，Windows 可以在任务管理器中找到 adb.exe 这个进程</p>
<p>运行在 Android 设备上的 adb 后台进程</p>
<p>执行 adb shell ps | grep adbd ，可以找到该后台进程，windows 请使用 findstr 替代 grep</p>
<p>[xuxu:~]$ adb shell ps | grep adbdroot      23227 1     6672   832   ffffffff 00019bb4 S /sbin/adbd<br>这里注意一个地方，就是 adb 使用的端口号，5037，有必要记一下;</p>
<p>接下来我将 adb 命令分为三部分进行介绍，adb 命令、adb shell 命令、linux 命令<br>adb 命令</p>
<p>在开发或者测试的过程中，我们可以通过 adb 来管理多台设备，其一般的格式为：</p>
<p>adb [-e | -d | -s &lt;设备序列号&gt;] &lt;子命令&gt;</p>
<p>在配好环境变量的前提下，在命令窗口当中输入 adb help 或者直接输入 adb ，将会列出所有的选项说明及子命令。</p>
<p>这里介绍一些里面常用的命令：</p>
<p>adb devices , 获取设备列表及设备状态</p>
<p>[xuxu:~]$ adb devicesList of devices attached 44c826a0    device<br>adb get-state , 获取设备的状态</p>
<p>[xuxu:~]$ adb get-state  device<br>设备的状态有 3 钟，device , offline , unknown</p>
<p>device：设备正常连接</p>
<p>offline：连接出现异常，设备无响应</p>
<p>unknown：没有连接设备</p>
<p>adb kill-server , adb start-server , 结束 adb 服务， 启动 adb 服务，通常两个命令一起用</p>
<p>一般在连接出现异常，使用 adb devices 未正常列出设备， 设备状态异常时使用 kill-server，然后运行 start-server 进行重启服务</p>
<p>adb logcat , 打印 Android 的系统日志，这个可以单独拿出来讲</p>
<p>adb bugreport , 打印dumpsys、dumpstate、logcat的输出，也是用于分析错误</p>
<p>输出比较多，建议重定向到一个文件中</p>
<p>adb bugreport &gt; d:\bugreport.log<br>adb install , 安装应用，覆盖安装是使用 -r 选项</p>
<p>windows 下如果需要安装含有中文名的 apk ，需要对 adb 进行修改，百度可以找到做出修改的adb , 支持中文命令的 apk，请自行搜索</p>
<p>adb uninstall , 卸载应用，后面跟的参数是应用的包名，请区别于 apk 文件名</p>
<p>‘-k’ means keep the data and cache directories , -k 选项，卸载时保存数据和缓存目录</p>
<p>adb pull , 将 Android 设备上的文件或者文件夹复制到本地</p>
<p>例如复制 Sdcard 下的 pull.txt 文件到 D 盘：</p>
<p>adb pull sdcard/pull.txt d:<br>如果需要重命名为 rename.txt：</p>
<p>adb pull sdcard/pull.txt d:\rename.txt<br>注意权限，复制系统权限的目录下的文件，需要 root ，并且一般的 Android 机 root 之后并不能使用命令去复制，而需要在手机上使用类似于 RE 的文件浏览器，先对系统的文件系统进行挂载为可读写后，才能在手机上复制移动系统文件，这里推荐使用小米手机的开发版本，IUNI 也是不错滴~~</p>
<p>adb push , 推送本地文件至 Android 设备</p>
<p>例如推送 D 盘下的 push.txt 至 Sdcard：</p>
<p>adb push d:\push.txt sdcard/<br>sdcard 后面的斜杠不能少，否则会出现下面的错误：</p>
<p>[xuxu:~]$ adb push push.txt sdcardfailed to copy ‘push.txt’ to ‘sdcard’: Is a directory<br>权限问题同 pull 命令</p>
<p>adb root , adb remount, 只针对类似小米开发版的手机有用，可以直接已这两个命令获取 root 权限，并挂载系统文件系统为可读写状态</p>
<p>adb reboot , 重启 Android 设备</p>
<p>bootloader , 重启设备，进入 fastboot 模式，同 adb reboot-bootloader 命令</p>
<p>recovery , 重启设备，进入 recovery 模式，经常刷机的同学比较熟悉这个模式</p>
<p>adb forward , 将 宿主机上的某个端口重定向到设备的某个端口</p>
<p>adb forward tcp:1314 tcp :8888<br>执行该命令后所有发往宿主机 1314 端口的消息、数据都会转发到 Android 设备的 8888 端口上，因此可以通过远程的方式控制 Android 设备。</p>
<p>adb connect 远程连接 Android 设备</p>
<p>手机、PC处于相同的网络下，手机 root ，安装应用 adbWireless ，启动应用后点击界面中间的按钮：</p>
<p>接着运行 adb connect 192.168.1.102 , 即可通过无线的方式连接手机，缺点是速度比较慢<br><img src="/.com//640.jpg" alt="alt"></p>
<p>adb shell 命令</p>
<p>这里大家先要了解为什么要区分 adb 命令和 adb shell 命令 。<br>简单点讲，adb 命令是 adb 这个程序自带的一些命令，而 adb shell 则是调用的 Android 系统中的命令，这些 Android 特有的命令都放在了 Android 设备的 system/bin 目录下，例如我再命令行中敲这样一个命令：</p>
<p>[xuxu:~]$ adb shell hehe/system/bin/sh: hehe: not found<br>很明显，在 bin 目录下并不存在这个命令。<br>于是就启动模拟器，将整个 system/bin目录复制了出来，然后一个一个的去试。</p>
<p>打开这些文件就可以发现，里面有些命令其实是一个 shell 脚本，例如打开 monkey 文件：</p>
<h1 id="Script-to-start-“monkey”-on-the-device-which-has-a-very-rudimentary-shell-base-systemexport-CLASSPATH-base-framework-monkey-jartrap-“”-HUPexec-app-process-base-bin-com-android-commands-monkey-Monkey"><a href="#Script-to-start-“monkey”-on-the-device-which-has-a-very-rudimentary-shell-base-systemexport-CLASSPATH-base-framework-monkey-jartrap-“”-HUPexec-app-process-base-bin-com-android-commands-monkey-Monkey" class="headerlink" title="Script to start “monkey” on the device, which has a very rudimentary# shell.#base=/systemexport CLASSPATH=$base/framework/monkey.jartrap “” HUPexec app_process $base/bin com.android.commands.monkey.Monkey $*"></a>Script to start “monkey” on the device, which has a very rudimentary# shell.#base=/systemexport CLASSPATH=$base/framework/monkey.jartrap “” HUPexec app_process $base/bin com.android.commands.monkey.Monkey $*</h1><p>再比如打开 am：</p>
<p>#!/system/bin/sh## Script to start “am” on the device, which has a very rudimentary# shell.#base=/systemexport CLASSPATH=$base/framework/am.jarexec app_process $base/bin com.android.commands.am.Am “$@”<br>还有 SDK sources/android-20/com/android/commands 目录下：</p>
<p>[xuxu:…oid-20/com/android/commands]$ pwd/Users/xuxu/utils/android/android-sdk-macosx/sources/android-20/com/android/commands[xuxu:…oid-20/com/android/commands]$ ll   total 0drwxr-xr-x  3 xuxu  staff   102B  4  2 10:57 amdrwxr-xr-x  3 xuxu  staff   102B  4  2 10:57 bmgrdrwxr-xr-x  3 xuxu  staff   102B  4  2 10:57 budrwxr-xr-x  3 xuxu  staff   102B  4  2 10:57 contentdrwxr-xr-x  3 xuxu  staff   102B  4  2 10:57 imedrwxr-xr-x  3 xuxu  staff   102B  4  2 10:57 inputdrwxr-xr-x  3 xuxu  staff   102B  4  2 10:57 mediadrwxr-xr-x  3 xuxu  staff   102B  4  2 10:57 pmdrwxr-xr-x  3 xuxu  staff   102B  4  2 10:57 requestsyncdrwxr-xr-x  3 xuxu  staff   102B  4  2 10:57 settingsdrwxr-xr-x  7 xuxu  staff   238B  4  2 10:57 svcdrwxr-xr-x  6 xuxu  staff   204B  4  2 10:57 uiautomatordrwxr-xr-x  3 xuxu  staff   102B  4  2 10:57 wm</p>
<p>有没有熟悉的命令？ am 、pm、uiautomator …</p>
<p>下面介绍一些常用的 adb shell 命令 （其中pm、am 命令比较庞大，使用四级标题）</p>
<p>pm<br>Package Manager , 可以用获取到一些安装在 Android 设备上得应用信息</p>
<p>pm 的源码 Pm.java , 直接运行 adb shell pm 可以获取到该命令的帮助信息</p>
<p>pm list package 列出安装在设备上的应用</p>
<p>不带任何选项：列出所有的应用的包名（不知道怎么找应用的包名的同学看这里）</p>
<p>adb shell pm list package<br>-s：列出系统应用</p>
<p>adb shell pm list package -s<br>-3：列出第三方应用</p>
<p>adb shell pm list package -3<br>-f：列出应用包名及对应的apk名及存放位置</p>
<p>adb shell pm list package -f<br>-i：列出应用包名及其安装来源，结果显示例子：</p>
<p>package:com.zhihu.android installer=com.xiaomi.market</p>
<p>adb shell pm list package -i<br>命令最后增加 FILTER：过滤关键字，可以很方便地查找自己想要的应用</p>
<p>参数组合使用，例如，查找三方应用中知乎的包名、apk存放位置、安装来源：</p>
<p>[xuxu:~]$ adb shell pm list package -f -3 -i zhihupackage:/data/app/com.zhihu.android-1.apk=com.zhihu.android  installer=com.xiaomi.market<br>pm path 列出对应包名的 .apk 位置</p>
<p>[xuxu:~]$ adb shell pm path com.tencent.mobileqqpackage:/data/app/com.tencent.mobileqq-1.apk<br>pm list instrumentation , 列出含有单元测试 case 的应用，后面可跟参数 -f （与 pm list package 中一样），以及 [TARGET-PACKAGE]</p>
<p>pm dump , 后跟包名，列出指定应用的 dump 信息，里面有各种信息，自行查看</p>
<p>adb shell pm dump com.tencent.mobileqq</p>
<p>Packages:Package [com.tencent.mobileqq] (4397f810):userId=10091 gids=[3003, 3002, 3001, 1028, 1015]pkg=Package{43851660 com.tencent.mobileqq}codePath=/data/app/com.tencent.mobileqq-1.apkresourcePath=/data/app/com.tencent.mobileqq-1.apknativeLibraryPath=/data/app-lib/com.tencent.mobileqq-1versionCode=242 targetSdk=9versionName=5.6.0applicationInfo=ApplicationInfo{43842cc8 com.tencent.mobileqq}flags=[ HAS_CODE ALLOW_CLEAR_USER_DATA ]dataDir=/data/data/com.tencent.mobileqqsupportsScreens=[small, medium, large, xlarge, resizeable, anyDensity]usesOptionalLibraries:com.google.android.media.effectscom.motorola.hardware.frontcameratimeStamp=2015-05-13 14:04:24firstInstallTime=2015-04-03 20:50:07lastUpdateTime=2015-05-13 14:05:02installerPackageName=com.xiaomi.marketsignatures=PackageSignatures{4397f8d8 [43980488]}permissionsFixed=true haveGids=true installStatus=1pkgFlags=[ HAS_CODE ALLOW_CLEAR_USER_DATA ]User 0:  installed=true blocked=false stopped=false notLaunched=false enabled=0grantedPermissions:android.permission.CHANGE_WIFI_MULTICAST_STATEcom.tencent.qav.permission.broadcastcom.tencent.photos.permission.DATAcom.tencent.wifisdk.permission.disconnect<br>pm install , 安装应用</p>
<p>目标 apk 存放于 PC 端，请用 adb install 安装</p>
<p>目标 apk 存放于 Android 设备上，请用 pm install 安装</p>
<p>pm uninstall , 卸载应用，同 adb uninstall , 后面跟的参数都是应用的包名</p>
<p>pm clear , 清除应用数据</p>
<p>pm set-install-location , pm get-install-location , 设置应用安装位置，获取应用安装位置</p>
<p>[0/auto]：默认为自动</p>
<p>[1/internal]：默认为安装在手机内部</p>
<p>[2/external]：默认安装在外部存储</p>
<p>am</p>
<p>又是一个庞大的命令。。。</p>
<p>am start , 启动一个 Activity，已启动系统相机应用为例</p>
<p>启动相机</p>
<p>[xuxu:~]$ adb shell am start -n com.android.camera/.CameraStarting: Intent { cmp=com.android.camera/.Camera }<br>先停止目标应用，再启动</p>
<p>[xuxu:~]$ adb shell am start -S com.android.camera/.CameraStopping: com.android.cameraStarting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER]     cmp=com.android.camera/.Camera }<br>等待应用完成启动</p>
<p>[xuxu:~]$ adb shell am start -W com.android.camera/.CameraStarting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] cmp=com.android.camera/.Camera }Status: okActivity: com.android.camera/.CameraThisTime: 500TotalTime: 500Complete<br>启动默认浏览器打开一个网页</p>
<p>[xuxu:~]$ adb shell am start -a android.intent.action.VIEW -d <a href="http://testerhome.comStarting" target="_blank" rel="noopener">http://testerhome.comStarting</a>: Intent { act=android.intent.action.VIEW dat=<a href="http://testerhome.com" target="_blank" rel="noopener">http://testerhome.com</a> }<br>启动拨号器拨打 10086</p>
<p>[xuxu:~]$ adb shell am start -a android.intent.action.CALL -d tel:10086            Starting: Intent { act=android.intent.action.CALL dat=tel:xxxxx }<br>am instrument , 启动一个 instrumentation , 单元测试或者 Robotium 会用到</p>
<p>am monitor , 监控 crash 与 ANR</p>
<p>[xuxu:~]$ adb shell am monitorMonitoring activity manager…  available commands:(q)uit: finish monitoring** Activity starting: com.android.camera<br>am force-stop , 后跟包名，结束应用</p>
<p>am startservice , 启动一个服务</p>
<p>am broadcast , 发送一个广播</p>
<p>还有很多的选项，自己多多发掘~~</p>
<p>input</p>
<p>这个命令可以向 Android 设备发送按键事件，其源码 Input.java</p>
<p>input text , 发送文本内容，不能发送中文</p>
<p>adb shell input text test123456<br>前提先将键盘设置为英文键盘</p>
<p>input keyevent , 发送按键事件，KeyEvent.java</p>
<p>adb shell input keyevent KEYCODE_HOME<br>模拟按下 Home 键 ，源码里面有定义：</p>
<p>public static final int KEYCODE_HOME = 3;</p>
<p>因此可以将命令中的 KEYCODE_HOME 替换为 3</p>
<p>input tap , 对屏幕发送一个触摸事件</p>
<p>adb shell input tap 500 500<br>点击屏幕上坐标为 500 500 的位置</p>
<p>input swipe , 滑动事件</p>
<p>adb shell input swipe 900 500 100 500<br>从右往左滑动屏幕</p>
<p>如果版本不低于 4.4 , 可以模拟长按事件</p>
<p>adb shell input swipe 500 500 501 501 2000<br>其实就是在小的距离内，在较长的持续时间内进行滑动，最后表现出来的结果就是长按动作</p>
<p>到这里会发现，MonkeyRunner 能做到的事情，通过 adb 命令都可以做得到，如果进行封装，会比 MR 做得更好。</p>
<p>screencap<br>截图命令</p>
<p>adb shell screencap -p /sdcard/screen.png<br>截屏，保存至 sdcard 目录</p>
<p>screenrecord<br>4.4 新增的录制命令</p>
<p>adb shell screenrecord sdcard/record.mp4<br>执行命令后操作手机，ctrl + c 结束录制，录制结果保存至 sdcard</p>
<p>uiautomator<br>执行 UI automation tests ， 获取当前界面的控件信息</p>
<p>runtest：executes UI automation tests RunTestCommand.java</p>
<p>dump：获取控件信息，DumpCommand.java</p>
<p>[xuxu:~]$ adb shell uiautomator dump   UI hierchary dumped to: /storage/emulated/legacy/window_dump.xml<br>不加 [file] 选项时，默认存放在 sdcard 下</p>
<p>ime<br>输入法，</p>
<p>[xuxu:~]$ adb shell ime list -s                           com.google.android.inputmethod.pinyin/.PinyinIMEcom.baidu.input_mi/.ImeService<br>列出设备上的输入法</p>
<p>[xuxu:~]$ adb shell ime set com.baidu.input_mi/.ImeServiceInput method com.baidu.input_mi/.ImeService selected<br>选择输入法</p>
<p>wm<br>[xuxu:~]$ adb shell wm sizePhysical size: 1080x1920<br>获取设备分辨率</p>
<p>monkey<br>adb shell monkey -p com.android.settings 1000</p>
<p>settings<br>adb shell settings put global wifi_on 1</p>
<p>dumpsys<br>adb shell dumpsys | findstr DUMP</p>
<p>log<br>这个命令很有意思，可以在 logcat 里面打印你设定的信息，具体用途自己思考！</p>
<p>adb shell log -p d -t xuxu “test adb shell log”<br>-p：优先级，-t：tag，标签，后面加上 message</p>
<p>[xuxu:~]$ adb logcat -v time -s xuxu               ——— beginning of /dev/log/system——— beginning of /dev/log/main05-15 13:57:10.286 D/xuxu    (12646): test adb shell log<br>getprop<br>查看 Android 设备的参数信息，只运行 adb shell getprop，结果以 key : value 键值对的形式显示，如要获取某个 key 的值：</p>
<p>adb shell getprop ro.build.version.sdk<br>获取设备的 sdk 版本</p>
<p>linux 命令<br>操作你的 Android 设备，常用到的命令，只列出，不详解！</p>
<p>cat、cd、chmod、cp、date、df、du、grep、kill、ln、ls、lsof、netstat、ping、ps、rm、rmdir、top、touch、重定向符号 “&gt;” “&gt;&gt;”、管道 “|”</p>
<p>有些可能需要使用 busybox ，另外建议 windows 下 安装一个 Cygwin , 没用过的请百度百科 Cygwin</p>
<p>END<br>补充一个引号的用途：<br>场景1、在 PC 端执行 monkey 命令，将信息保存至 D 盘 monkey.log，会这么写：</p>
<p>adb shell monkey -p com.android.settings 5000 &gt; d:\monkey.log<br>场景2、在 PC 端执行 monkey 命令，将信息保存至手机的 Sdcard，可能会这么写：</p>
<p>adb shell monkey -p com.android.settings 5000 &gt; sdcard/monkey.log<br>这里肯定会报错，因为最终是写向了 PC 端当前目录的 sdcard 目录下，而非写向手机的 Sdcard</p>
<p>这里需要用上引号：</p>
<p>adb shell “monkey -p com.android.settings 5000 &gt; sdcard/monkey.log”</p>
<p>对这些命令都熟悉之后，那么接下来就是综合对编程语言的应用，思考如何用语言去处理这些命令，使得这些命令更加的方便于测试工作。</p>
<p>出自:李老师.</p>
	
	</div>
	
	<div id="current-post-cover" data-scr="/img/cart_cover.jpg"></div>

	<!-- relate post, comment...-->
	<div class="investment-container">
		<div class="investment-header">
			<div class="investment-title-1">
				<div class="on">相关文章</div>
				<div>评论</div>
				<div>分享</div>
			</div>
			<div class="investment-title-2">	            
				
	<span>
		<a href="javascript: window.scrollTo(0, 0);" target="_blank" rel="noopener">返回顶部</a>
		
		
			<a href="/2019/12/17/Selenium%E4%B9%8BCSS%E5%AE%9A%E4%BD%8D%E6%B1%87%E6%80%BB/" title="Selenium之CSS定位汇总" rel="next">
				下一篇&raquo;
			</a>
			
	</span>


      		
			</div>	
		</div>
		
		<div class="investment-content">
			<div class="investment-content-list">
				

<div class="relate-post">
	
		<ul>
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="/2019/12/17/Selenium%E4%B9%8BCSS%E5%AE%9A%E4%BD%8D%E6%B1%87%E6%80%BB/" title="Selenium之CSS定位汇总">
								Selenium之CSS定位汇总			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								十二月 17日, 2019				
							</p>
							<p class="relate-post-content">
								定位输入框
一：单一属性定位1：type selectordriver.find_element_by_css_selector(‘input’)
2：id 定位driver.find_element_by_css_selector(...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="/2019/12/17/Selenium%E4%B9%8BCSS%E5%AE%9A%E4%BD%8D%E6%B1%87%E6%80%BB/" title="Selenium之CSS定位汇总">				
								
								<img class="lazy" src="/img/placeholder.jpg" data-src="/img/cart_cover.jpg" alt="Selenium之CSS定位汇总"/>
							</a>
						</div>
					</li>											
			
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="/2019/12/17/web-selenium-frame%EF%BC%88iframe%EF%BC%89%E5%A4%84%E7%90%86/" title="web-selenium frame（iframe）处理">
								web-selenium frame（iframe）处理			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								十二月 17日, 2019				
							</p>
							<p class="relate-post-content">
								 在web应用中，前台网页的设计一般会用到iframe/frame表单嵌套页面的应用。简单的就是一个页面签嵌套多个HEML/JSP文件。selenium webdriver  只能在同一页面识别定位元素，可以狭隘的理解成只能识别当前所...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="/2019/12/17/web-selenium-frame%EF%BC%88iframe%EF%BC%89%E5%A4%84%E7%90%86/" title="web-selenium frame（iframe）处理">				
								
								<img class="lazy" src="/img/placeholder.jpg" data-src="/img/cart_cover.jpg" alt="web-selenium frame（iframe）处理"/>
							</a>
						</div>
					</li>											
			
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="/2019/12/17/%E7%90%86%E8%A7%A3VMWare%E7%9A%84%E4%B8%89%E7%A7%8D%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E6%A8%A1%E5%BC%8F/" title="理解VMWare的三种网络连接模式">
								理解VMWare的三种网络连接模式			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								十二月 17日, 2019				
							</p>
							<p class="relate-post-content">
								VMWare支持三种类型的网络：
bridged（桥接模式）NAT（网络地址转换模式）Host-only（主机模式）理解三种工作模式
VMWare提供了三种工作模式，它们是bridged(桥接模式)、NAT(网络地址转换模式)和hos...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="/2019/12/17/%E7%90%86%E8%A7%A3VMWare%E7%9A%84%E4%B8%89%E7%A7%8D%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E6%A8%A1%E5%BC%8F/" title="理解VMWare的三种网络连接模式">				
								
								<img class="lazy" src="/img/placeholder.jpg" data-src="/img/cart_cover.jpg" alt="理解VMWare的三种网络连接模式"/>
							</a>
						</div>
					</li>											
			
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="/2019/12/17/Kobe-Bean-Bryant-Cox%EF%BC%88%E7%A7%91%E6%AF%94-%E6%AF%94%E6%81%A9-%E5%B8%83%E8%8E%B1%E6%81%A9%E7%89%B9-%E8%80%83%E5%85%8B%E6%96%AF%EF%BC%89/" title="Kobe-Bean-Bryant-Cox（科比-比恩-布莱恩特-考克斯）">
								Kobe-Bean-Bryant-Cox（科比-比恩-布莱恩特-考克斯）			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								十二月 17日, 2019				
							</p>
							<p class="relate-post-content">
								
全名: 科比.比恩.布莱恩特.考克斯(Kobe Bean Bryant Cox)
球队: 洛杉矶湖人队
号码：8号 / 06-07赛季开始穿24号
位置: 得分后卫/组织后卫/小前锋
生日: 1978年8月23日(退役于:2016年...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="/2019/12/17/Kobe-Bean-Bryant-Cox%EF%BC%88%E7%A7%91%E6%AF%94-%E6%AF%94%E6%81%A9-%E5%B8%83%E8%8E%B1%E6%81%A9%E7%89%B9-%E8%80%83%E5%85%8B%E6%96%AF%EF%BC%89/" title="Kobe-Bean-Bryant-Cox（科比-比恩-布莱恩特-考克斯）">				
								
								<img class="lazy" src="/img/placeholder.jpg" data-src="/img/cart_cover.jpg" alt="Kobe-Bean-Bryant-Cox（科比-比恩-布莱恩特-考克斯）"/>
							</a>
						</div>
					</li>											
			
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="/2019/12/17/%E5%B0%8F%E6%8A%84/" title="小抄">
								小抄			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								十二月 17日, 2019				
							</p>
							<p class="relate-post-content">
								如果当下所做的一切努力都是为了生存，那我奉劝还是不要去谈恋爱了，最基本的东西你都没搞清楚，合适的人也好，真挚的感情也好，都不是空中楼阁，而是一种更高级的精神需求。
没有物质保障的爱情，不用风去吹，自己就会被琐碎打败。
如果对当下迷茫，...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="/2019/12/17/%E5%B0%8F%E6%8A%84/" title="小抄">				
								
								<img class="lazy" src="/img/placeholder.jpg" data-src="/img/cart_cover.jpg" alt="小抄"/>
							</a>
						</div>
					</li>											
			
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="/2019/12/17/%E5%8D%9A%E5%AE%A2%E7%AE%80%E6%98%93%E6%90%AD%E5%BB%BA/" title="博客简易搭建">
								博客简易搭建			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								十二月 17日, 2019				
							</p>
							<p class="relate-post-content">
								一： 准备工作    · 拥有一个github账号，没有的话可以去注册一个：https://github.com    · 安装node.js可自行下载： https://nodejs.org/zh-cn/download/    ·...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="/2019/12/17/%E5%8D%9A%E5%AE%A2%E7%AE%80%E6%98%93%E6%90%AD%E5%BB%BA/" title="博客简易搭建">				
								
								<img class="lazy" src="/img/placeholder.jpg" data-src="/img/cart_cover.jpg" alt="博客简易搭建"/>
							</a>
						</div>
					</li>											
			
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="/2019/11/04/hello-world/" title="Hello World">
								Hello World			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								十一月 4日, 2019				
							</p>
							<p class="relate-post-content">
								Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using ...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="/2019/11/04/hello-world/" title="Hello World">				
								
								<img class="lazy" src="/img/placeholder.jpg" data-src="/img/cart_cover.jpg" alt="Hello World"/>
							</a>
						</div>
					</li>											
			
			
		</ul>
	
</div>	
			</div>
			<div class="investment-content-list">
				<div class="layout-comment">

	

		

			<!-- I don't know !!!-->
			<div>Please check the comment setting in config.yml of hexo-theme-Annie!</div>
			
		
		
	

</div>
			</div>
			<div class="investment-content-list">
				<div class="layout-share">
	
	

		
			
			<!-- socialShare share -->
			<div class="social-share"></div>

<!--  css & js -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
<script async src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
			
		
		
	
</div>


			</div>
		</div>	
	</div>
	</div>
</div>



	<!-- leancloud -->
	<!--
	时间：2018-11-27
	描述：
		文章访问量：visitors
		文章喜欢量：likes	
		文章排行榜：topNPost
		其他得说明：
			01-Cookie相关的函数 
				https://blog.csdn.net/somehow1002/article/details/78511541（Author：somehow1002）
			02-visitors相关的函数 
				https://blog.csdn.net/u013553529/article/details/63357382（Author：爱博客大伯）
				https://notes.doublemine.me/2015-10-21-为NexT主题添加文章阅读量统计功能.html（Author：夏末）
			03-topNPost相关的函数
				https://hoxis.github.io/hexo-next-read-rank.html（Author：hoxis）
			04-likes相关的函数，
				参考了01 & 02进行简单的设计与实现
-->


	


<!-- show math formula -->



	 
	<script src="/plugin/clipboard/clipboard.js"></script>
	<script>
		// Copy code !
	    function codePreprocessing() {
	        $("#article-content .highlight").each(function() {

	            $(this).wrap('<div id="post-code"></div>');

	        })

	        $("#article-content #post-code").each(function() {

	            $(this).prepend('<nav class="copy-nav"><span><i class="code-language"></i></span></nav>');

	        })

	        $("#article-content .copy-nav").each(function() {
	            var temp = $(this).next().attr('class'),
	                language = ((temp.length > 9) && (temp != null)) ? temp.substr(10) : "none"; //why 9? Need to check language?

	            $(this).find('.code-language').text(language);

	            $(this).append('<span class="copy-btn"><i class="fa fa-copy" aria-hidden="true"></i></span>');

	        });
	    }

		function codeCopy() {
		    $('#article-content #post-code').each(function(i) {
		        var codeCopyId = 'codeCopy-' + i;

		        var codeNode = $(this).find('.code'),
		            copyButton = $(this).find('.copy-btn');

		        codeNode.attr('id', codeCopyId);
		        copyButton.attr('data-clipboard-target-id', codeCopyId);
		    })

		    
			var clipboard = new ClipboardJS('.copy-btn', {
					target: function(trigger) {
						return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
					}
		      	});

			//pure js
			function showTooltip(elem, msg) {		   
				elem.setAttribute('aria-label', msg);
				elem.setAttribute('class', 'copy-btn copy-status');
				setTimeout(function() {
					elem.setAttribute('class', 'copy-btn');
				}, 2000);
			}

			clipboard.on('success', function(e) {
			    e.clearSelection();
			    console.info('Action:', e.action);		   
			    console.info('Trigger:', e.trigger);
			    showTooltip(e.trigger, 'Copied!');
			    
			});
			clipboard.on('error', function(e) {
			    console.error('Action:', e.action);
			    console.error('Trigger:', e.trigger);
			});
		

		}

		if ($('.layout-post').length) {
		    codePreprocessing();
		    codeCopy();
		} 
	</script>





<link rel="stylesheet" href="/plugin/fancybox/jquery.fancybox.css">
<script src="/plugin/fancybox/jquery.fancybox.js"></script>

<script type="text/javascript">
	var titleID = $('.article-title a'),
		imageID = $('.article-content img'),
		videoID = $('.article-content video');

	var postTitle = titleID.text() ? titleID.text() : "No post title!";

	imageID.each(function() {
		var imgPath = $(this).attr('src'),
			imgTitle = $(this).attr('alt') ? $(this).attr('alt') : "No image description!";

		//给每个匹配的<img>元素打包, 即添加父元素<a>
		$(this).wrap('<a data-fancybox="gallery" data-caption=" 《 ' + postTitle + ' 》 ' + imgTitle + ' "  href=" ' + imgPath + ' "> </a>');
	});

	videoID.each(function() {
		var videoPath = $(this).attr('src');

		//给每个匹配的<img>元素打包, 即添加父元素<a>
		$(this).wrap('<a data-fancybox href=" ' + videoPath + ' "> </a>');
	});
	//TODO：支持html5 video

	if($('#layout-post').length) {
		$('[data-fancybox="gallery"]').fancybox({
			loop: true,
			buttons: [
				"zoom",
				"share",
				"slideShow",
				"fullScreen",
				//"download",
				"thumbs",
				"close"
			],
			protect: false
		});
	}
</script>
		</main>

		<!--footer-->
		<div style="position:absolute; bottom:120px left:auto; width:85%">
	<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 	src="//music.163.com/outchain/player?type=2&id=1350160916&auto=1&height=66"></iframe>
</div>
<footer>
	<div class="social">
		<ul>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-github"></i>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-weibo"></i>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-pinterest"></i>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-instagram"></i>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-twitter"></i>
			</a>
		</li>
	
		<li>
			<a href="/atom.xml" target="_blank">
				<i class="fa fa-rss"></i>
			</a>
		</li>
			
</ul>

	</div>
		
	<div class="copyright">
		<p>
			 
				&copy;2017 - 2020, content by Daryll. All Rights Reserved.
			
			
			

	<!-- busuanzi -->
	<!-- busuanzi -->

		
	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	

		<span id="busuanzi_container_page_pv">
	  		本文总阅读量<span id="busuanzi_value_page_pv"></span>次
		</span>

	




		</p>
		<p>
			<a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> Theme <a href="https://github.com/Sariay/hexo-theme-Annie" title="Annie" target="_blank" rel="noopener">Annie</a> by Sariay.
			<a href="javascript:zh_tran(' target="_blank" rel="noopener"s');" class="zh_click" id="zh_click_s">简体</a> 
			<a href="javascript:zh_tran(' target="_blank" rel="noopener"t');" class="zh_click" id="zh_click_t">繁體</a>				
		</p>
	</div>		
</footer>
		
	<!-- set '1' to show motto in all pages! -->

	<script src="/plugin/motto/motto.js"></script>
	
	<script type="text/javascript">
		$(".motto").html( getMingYanContent() );
	</script>	





<!-- love effect -->

	<script src="/plugin/love/love.js"></script>


<!-- back to top -->

	
	<div id="totop">
  		<a href="javascript:;" target="_blank" rel="noopener"  name="TOTOP" class="fa fa-arrow-up" ></a>
	</div>




<!-- site analysis -->


	<!-- site-analysis -->
	

	
	
	
	
 

<script src="/plugin/vibrant/vibrant.js"></script>
<script src="/plugin/chinese/chinese.js"></script>
<script src="/plugin/imgLazyLoader/yall.min.js"></script>
<script src="/plugin/imgResize/jquery.resizeimagetoparent.min.js"></script>
<script src="/plugin/nicescroll/jquery.nicescroll.js"></script>
<script src="/js/resizediv.js"></script>
<script src="/js/main.js"></script>
	<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":270,"height":320},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body>	
</html>